<logicalNameMap>

  <redirectedRegister name="doubleBuffer">
    <targetDevice><par>target</par></targetDevice>
    <targetRegister>/APP/0/DAQ0_BUF0</targetRegister>
    <plugin name="doubleBuffer">      
      <parameter name="enableDoubleBuffering">APP/1/WORD_DUB_BUF_ENA</parameter>
      <parameter name="currentBufferNumber">APP/1/WORD_DUB_BUF_CURR</parameter>
      <parameter name="secondBuffer">APP/0/DAQ0_BUF1</parameter>
    </plugin>
  </redirectedRegister>

    <!-- example for accessing extracted channels via double buffering -->
    <redirectedChannel name="modulation1buf1">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/APP0/DAQ0_BUF1</targetRegister>
        <targetChannel>3</targetChannel>
    </redirectedChannel>
    <redirectedChannel name="modulation1">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/APP0/DAQ0_BUF0</targetRegister>
        <targetChannel>3</targetChannel>
        <plugin name="doubleBuffer">      
          <parameter name="enableDoubleBuffering">/DAQ0/WORD_DUB_BUF_ENA</parameter>
          <parameter name="currentBufferNumber">/DAQ0/WORD_DUB_BUF_CURR</parameter>
          <!-- <parameter name="secondBuffer">/APP0/DAQ0_BUF1</parameter> -->
          <parameter name="secondBuffer">modulation1buf1</parameter>
          <parameter name="wordOffset">2</parameter>
        </plugin>
    </redirectedChannel>
    <redirectedChannel name="correctionBuf1">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/APP0/DAQ0_BUF1</targetRegister>
        <targetChannel>1</targetChannel>
    </redirectedChannel>
    <redirectedChannel name="correction">
      <targetDevice><par>target</par></targetDevice>
      <targetRegister>/APP0/DAQ0_BUF0</targetRegister>
      <targetChannel>1</targetChannel>
      <plugin name="doubleBuffer">      
        <parameter name="enableDoubleBuffering">/DAQ0/WORD_DUB_BUF_ENA</parameter>
        <parameter name="currentBufferNumber">/DAQ0/WORD_DUB_BUF_CURR</parameter>
        <parameter name="secondBuffer">/correctionBuf1</parameter>
        <!-- <parameter name="secondBuffer">/APP0/DAQ0_BUF1</parameter> -->
        <parameter name="wordOffset">2</parameter>
      </plugin>
    </redirectedChannel> 
    <redirectedRegister name="enableDoubleBuffering">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/DAQ0/WORD_DUB_BUF_ENA</targetRegister>
        <targetStartIndex>2</targetStartIndex>
        <numberOfElements>1</numberOfElements>
    </redirectedRegister>    
    <redirectedRegister name="currentBufferNumber">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/DAQ0/WORD_DUB_BUF_CURR</targetRegister>
        <targetStartIndex>2</targetStartIndex>
        <numberOfElements>1</numberOfElements>
    </redirectedRegister>
    <redirectedChannel name="firstBuffer">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/APP0/DAQ0_BUF0</targetRegister>
        <targetChannel>3</targetChannel>
    </redirectedChannel>
    <redirectedChannel name="secondBuffer">
        <targetDevice><par>target</par></targetDevice>
        <targetRegister>/APP0/DAQ0_BUF1</targetRegister>
        <targetChannel>3</targetChannel>
    </redirectedChannel>
    <!-- with indirection via target=this -->
    <redirectedRegister name="modulation2">
        <targetDevice>this</targetDevice>
        <targetRegister>firstBuffer</targetRegister>
        <plugin name="doubleBuffer">      
          <parameter name="enableDoubleBuffering">/enableDoubleBuffering</parameter>
          <parameter name="currentBufferNumber">/currentBufferNumber</parameter>
          <parameter name="secondBuffer">/secondBuffer</parameter>
        </plugin>
    </redirectedRegister>
</logicalNameMap>
